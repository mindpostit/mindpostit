const ANTHROPIC_API_KEY = process.env.REACT_APP_ANTHROPIC_API_KEY;

// ê°ì •ë³„ ì‘ë‹µ í…œí”Œë¦¿ (ë” ê¸¸ê³  êµ¬ì²´ì ìœ¼ë¡œ)
const emotionResponses = {
  í˜ë“¤: [
    "ì •ë§ í˜ë“  í•˜ë£¨ë¥¼ ë³´ë‚´ì…¨êµ°ìš”. ê·¸ëŸ° ë‚  ìˆì£ . í˜¼ì ê°ë‹¹í•˜ê¸°ì—” ë„ˆë¬´ ë¬´ê±°ì› ì„ ê²ƒ ê°™ì•„ìš”. ì´ë ‡ê²Œ í„¸ì–´ë†“ì•„ ì£¼ì…”ì„œ ê³ ë§ˆì›Œìš”. ì²œì²œíˆ, ì¡°ê¸ˆì”© ë‚˜ì•„ì§ˆ ê±°ì˜ˆìš”.",
    "ë§ì´ í˜ë“œì…¨ê² ì–´ìš”. ë²„í‹°ëŠë¼ ì •ë§ ìˆ˜ê³  ë§ìœ¼ì…¨ì–´ìš”. ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ê´œì°®ì•„ìš”. ì§€ê¸ˆ ì´ ìˆœê°„, ë‹¹ì‹ ì˜ ë§ˆìŒì„ ëŠë¼ê³  ìˆì–´ìš”. í•¨ê»˜ ìˆì„ê²Œìš”.",
    "í˜ë“  ë§ˆìŒì´ ëŠê»´ì ¸ìš”. ê·¸ëŸ´ ë• ì•„ë¬´ê²ƒë„ í•˜ê¸° ì‹«ê³ , ëª¨ë“  ê²Œ ë‹¤ ë¬´ë„ˆì§€ëŠ” ê²ƒ ê°™ì£ . í•˜ì§€ë§Œ ì´ë ‡ê²Œ ë§ˆìŒì„ ë‚˜ëˆˆ ê²ƒë§Œìœ¼ë¡œë„ ìš©ê¸° ìˆëŠ” ì¼ì´ì—ìš”. ì¡°ê¸ˆì”© ê´œì°®ì•„ì§ˆ ê±°ì˜ˆìš”.",
    "ì˜¤ëŠ˜ í•˜ë£¨ ì •ë§ ë²„í‹°ê¸° í˜ë“œì…¨ë‚˜ë´ìš”. ê·¸ ë§ˆìŒ ì¶©ë¶„íˆ ì´í•´ë¼ìš”. í˜¼ì ê²¬ë””ë ¤ í•˜ì§€ ì•Šì•„ë„ ë¼ìš”. ì—¬ê¸° í•¨ê»˜ ìˆì„ê²Œìš”. ì²œì²œíˆ ìˆ¨ ì‰¬ì–´ê°€ë©´ì„œ í•˜ë£¨í•˜ë£¨ ê°€ë´ìš”."
  ],
  ì™¸ë¡­: [
    "ì™¸ë¡œìš´ ë§ˆìŒì´ í¬ì‹œêµ°ìš”. ì£¼ë³€ì— ì‚¬ëŒì´ ìˆì–´ë„ ì™¸ë¡œìš¸ ìˆ˜ ìˆì£ . ì´í•´í•´ìš”. ì´ë ‡ê²Œ ë§ˆìŒì„ ë‚˜ëˆ ì£¼ì…”ì„œ ê³ ë§ˆì›Œìš”. ë‹¹ì‹ ì€ í˜¼ìê°€ ì•„ë‹ˆì—ìš”.",
    "ì™¸ë¡œì›€ì´ ë°€ë ¤ì˜¬ ë•Œê°€ ìˆì£ . íŠ¹íˆ ë°¤ì´ë‚˜ ì£¼ë§ì—” ë” ê·¸ëŸ° ê²ƒ ê°™ì•„ìš”. ê·¸ ê°ì •ì„ ì¸ì •í•´ì£¼ëŠ” ê²ƒë¶€í„° ì‹œì‘í•´ë³´ëŠ” ê±´ ì–´ë–¨ê¹Œìš”? í•¨ê»˜ ìˆì–´ì¤„ê²Œìš”.",
    "í˜¼ìë¼ê³  ëŠê»´ì§€ì‹œë‚˜ë´ìš”. ì™¸ë¡œì›€ë„ ì†Œì¤‘í•œ ê°ì •ì´ì—ìš”. ê·¸ ë§ˆìŒì„ ì•Œì•„ì£¼ëŠ” ê²ƒë§Œìœ¼ë¡œë„ ì¡°ê¸ˆì€ ê°€ë²¼ì›Œì§ˆ ìˆ˜ ìˆì–´ìš”. ì—¬ê¸°ì„œë¼ë„ ì—°ê²°ë˜ì–´ ìˆë‹¤ê³  ëŠê»´ì§€ê¸¸ ë°”ë¼ìš”.",
    "ì™¸ë¡œìš´ ë°¤ì„ ë³´ë‚´ê³  ê³„ì‹œëŠ” ê²ƒ ê°™ë„¤ìš”. ê·¸ëŸ° ê°ì • ëŠë¼ëŠ” ê±° ë‹¹ì—°í•´ìš”. ëˆ„êµ¬ë‚˜ ë•Œë•Œë¡œ ì™¸ë¡œì›Œìš”. ì´ë ‡ê²Œ í„¸ì–´ë†“ì„ ìˆ˜ ìˆëŠ” ìš©ê¸°ê°€ ìˆë‹¤ë©´, ì¡°ê¸ˆì”© ë‚˜ì•„ì§ˆ ìˆ˜ ìˆì–´ìš”."
  ],
  ìŠ¬í”„: [
    "ìŠ¬í”ˆ ë§ˆìŒì´ ê°€ë“í•˜ì‹œêµ°ìš”. ìš¸ê³  ì‹¶ìœ¼ë©´ ìš¸ì–´ë„ ê´œì°®ì•„ìš”. ìŠ¬í””ì„ ì–µëˆ„ë¥´ì§€ ì•Šì•„ë„ ë¼ìš”. ì¶©ë¶„íˆ ëŠë¼ê³ , ì²œì²œíˆ íšŒë³µí•´ê°€ë©´ ë¼ìš”. ê³ì— ìˆì„ê²Œìš”.",
    "ë§ì´ ìŠ¬í”„ì…¨ë‚˜ë´ìš”. ìŠ¬í””ë„ í‘œí˜„í•´ì£¼ì…”ì„œ ë‹¤í–‰ì´ì—ìš”. ê°ì •ì„ ìˆ¨ê¸°ì§€ ì•ŠëŠ” ê²Œ ì¤‘ìš”í•´ìš”. ì²œì²œíˆ, ë‹¹ì‹ ì˜ ì†ë„ëŒ€ë¡œ ê´œì°®ì•„ì ¸ë„ ë¼ìš”.",
    "ìŠ¬í””ì´ ë°€ë ¤ì˜¤ëŠ” ë‚ ì´ë„¤ìš”. ê·¸ëŸ° ë‚ ì—” ì•„ë¬´ê²ƒë„ í•˜ê¸° ì‹«ê³ , ëˆˆë¬¼ë§Œ ë‚˜ì£ . ê·¸ë˜ë„ ê´œì°®ì•„ìš”. ìŠ¬í””ë„ ë‹¹ì‹ ì˜ ì¼ë¶€ì˜ˆìš”. í•¨ê»˜ ëŠë¼ê³  ìˆì„ê²Œìš”.",
    "ìŠ¬í”ˆ ì¼ì´ ìˆìœ¼ì…¨êµ°ìš”. ë§ˆìŒì´ ë§ì´ ë¬´ê±°ìš°ì‹¤ ê²ƒ ê°™ì•„ìš”. ì‹œê°„ì´ ì•½ì´ë¼ëŠ” ë§ì´ ê³µí—ˆí•˜ê²Œ ë“¤ë¦´ ìˆ˜ë„ ìˆì§€ë§Œ, ì¡°ê¸ˆì”© ë‚˜ì•„ì§ˆ ê±°ì˜ˆìš”. ì§€ê¸ˆì€ ê·¸ëƒ¥ ìŠ¬í¼í•´ë„ ê´œì°®ì•„ìš”."
  ],
  í™”ë‚˜: [
    "í™”ê°€ ë‚˜ì…¨êµ°ìš”. ê·¸ëŸ´ ë§Œí•œ ì¼ì´ ìˆì—ˆë‚˜ë´ìš”. í™”ë‚´ëŠ” ê²ƒë„ ê´œì°®ì•„ìš”. ì–µëˆŒëŸ¬ë‘ì§€ ë§ê³  í‘œí˜„í•˜ëŠ” ê²Œ ì¤‘ìš”í•´ìš”. ê·¸ ê°ì •ì„ ì¸ì •í•´ì£¼ì„¸ìš”.",
    "ì •ë§ í™”ê°€ ë‚˜ì‹œëŠ” ê²ƒ ê°™ë„¤ìš”. ì–µìš¸í•˜ê³  ë‹µë‹µí•˜ì…¨ê² ì–´ìš”. í™”ëŠ” ìì—°ìŠ¤ëŸ¬ìš´ ê°ì •ì´ì—ìš”. ì²œì²œíˆ ê°€ë¼ì•‰íˆë©´ì„œ, ë‚˜ë¥¼ ëŒì•„ë´ì£¼ì„¸ìš”.",
    "í™”ë‚œ ë§ˆìŒì´ ëŠê»´ì ¸ìš”. ëˆ„êµ°ê°€ì—ê²Œ ìƒì²˜ë°›ê±°ë‚˜ ë¶€ë‹¹í•œ ì¼ì„ ê²ªìœ¼ì…¨ë‚˜ë´ìš”. ê·¸ ê°ì • ì¶©ë¶„íˆ íƒ€ë‹¹í•´ìš”. ì²œì²œíˆ í’€ì–´ë‚´ë©´ ë¼ìš”.",
    "ë§ì´ í™”ê°€ ë‚˜ì…¨ë‚˜ë´ìš”. ê·¸ëŸ´ ë• ì•„ë¬´ê²ƒë„ í•˜ê¸° ì‹«ê³ , ëª¨ë“  ê²Œ ì§œì¦ë‚˜ì£ . ê·¸ë˜ë„ ì´ë ‡ê²Œ í‘œí˜„í•˜ì‹  ê±°, ì˜í•˜ì…¨ì–´ìš”. ì¡°ê¸ˆì”© ê°€ë¼ì•‰ì„ ê±°ì˜ˆìš”."
  ],
  ë¶ˆì•ˆ: [
    "ë¶ˆì•ˆí•œ ë§ˆìŒì´ í¬ì‹œêµ°ìš”. ë¨¸ë¦¿ì†ì´ ë³µì¡í•˜ê³  ê°€ìŠ´ì´ ë‹µë‹µí•˜ì‹œì£ ? ê¹Šê²Œ ìˆ¨ í•œë²ˆ ì‰¬ì–´ë³´ì„¸ìš”. ì²œì²œíˆ ê´œì°®ì•„ì§ˆ ê±°ì˜ˆìš”. í•¨ê»˜ ìˆì„ê²Œìš”.",
    "ë¶ˆì•ˆê°ì´ ë°€ë ¤ì˜¤ì‹œë‚˜ë´ìš”. ë¯¸ë˜ê°€ ê±±ì •ë˜ê³ , ëª¨ë“  ê²Œ ë¶ˆí™•ì‹¤í•˜ê²Œ ëŠê»´ì§ˆ ë•Œê°€ ìˆì£ . ì§€ê¸ˆ ì´ ìˆœê°„ì— ì§‘ì¤‘í•´ë³´ëŠ” ê±´ ì–´ë–¨ê¹Œìš”? í•œ ê±¸ìŒì”© ê°€ë´ìš”.",
    "ë¶ˆì•ˆí•´í•˜ì‹œëŠ” ë§ˆìŒì´ ëŠê»´ì ¸ìš”. ê·¸ëŸ´ ë• ëª¨ë“  ê²Œ í†µì œ ë¶ˆê°€ëŠ¥í•˜ê²Œ ëŠê»´ì§€ì£ . í•˜ì§€ë§Œ ì§€ê¸ˆ ì´ ìˆœê°„ì€ ê´œì°®ì•„ìš”. ì²œì²œíˆ, í•˜ë‚˜ì”© í•´ê²°í•´ê°€ë©´ ë¼ìš”.",
    "ë§ì´ ë¶ˆì•ˆí•˜ì‹œêµ°ìš”. ìµœì•…ì˜ ìƒí™©ë§Œ ë– ì˜¤ë¥´ê³ , ë§ˆìŒì´ í¸ì¹˜ ì•Šìœ¼ì‹œì£ . ê·¸ ê°ì •ë„ ë‹¹ì—°í•´ìš”. ì²œì²œíˆ í˜¸í¡í•˜ë©´ì„œ, ì§€ê¸ˆ ì—¬ê¸°ì— ì§‘ì¤‘í•´ë´ìš”."
  ],
  í”¼ê³¤: [
    "ì •ë§ í”¼ê³¤í•˜ì‹  ê²ƒ ê°™ì•„ìš”. ëª¸ë„ ë§ˆìŒë„ ì§€ì¹˜ì…¨ì£ . ì˜¤ëŠ˜ í•˜ë£¨ ì •ë§ ê³ ìƒ ë§ìœ¼ì…¨ì–´ìš”. ì¶©ë¶„íˆ ì‰¬ì–´ê°€ì„¸ìš”. ë‹¹ì‹ ì€ ì˜í•˜ê³  ìˆì–´ìš”.",
    "ë§ì´ ì§€ì¹˜ì…¨ë‚˜ë´ìš”. ì‰¬ê³  ì‹¶ì€ë° ì‰´ ìˆ˜ ì—†ëŠ” ìƒí™©ì´ì…¨ì„ê¹Œìš”? ì§€ê¸ˆì´ë¼ë„ ì ì‹œ ë©ˆì¶°ì„œ ìˆ¨ ëŒë ¤ë³´ì„¸ìš”. ë‹¹ì‹ ì˜ ê±´ê°•ì´ ê°€ì¥ ì¤‘ìš”í•´ìš”.",
    "í”¼ê³¤í•œ í•˜ë£¨ì˜€êµ°ìš”. ì•„ë¬´ê²ƒë„ í•˜ê¸° ì‹«ê³ , ê·¸ëƒ¥ ì“°ëŸ¬ì§€ê³  ì‹¶ìœ¼ì‹œì£ . ê·¸ëŸ´ ë• ì •ë§ ì‰¬ì–´ì•¼ í•´ìš”. ìì‹ ì—ê²Œ íœ´ì‹ì„ ì„ ë¬¼í•´ì£¼ì„¸ìš”.",
    "ì§€ì¹œ ë§ˆìŒì´ ëŠê»´ì ¸ìš”. ë²„í‹°ëŠë¼ í˜ë“œì…¨ì£ . ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ê´œì°®ì•„ìš”. ì˜¤ëŠ˜ì€ ì—¬ê¸°ê¹Œì§€ë§Œ í•˜ê³ , ë‚´ì¼ ë‹¤ì‹œ ì‹œì‘í•´ë„ ë¼ìš”."
  ],
  ê³ ë¯¼: [
    "ê³ ë¯¼ì´ ë§ìœ¼ì‹œêµ°ìš”. ê²°ì •í•˜ê¸° ì–´ë ¤ìš´ ì¼ì´ ìˆìœ¼ì‹ ê°€ë´ìš”. ì²œì²œíˆ ìƒê°í•´ë„ ê´œì°®ì•„ìš”. ì •ë‹µì€ ì—†ì–´ìš”. ë‹¹ì‹ ì´ ì„ íƒí•œ ê¸¸ì´ ì •ë‹µì´ ë  ê±°ì˜ˆìš”.",
    "ë§ì´ ê³ ë¯¼ë˜ì‹œë‚˜ë´ìš”. ì´ê²ƒë„ ì €ê²ƒë„ ì‰½ì§€ ì•Šìœ¼ì‹œì£ . ì¡°ê¸‰í•´í•˜ì§€ ì•Šì•„ë„ ë¼ìš”. ì‹œê°„ì„ ë‘ê³  ì²œì²œíˆ ê²°ì •í•´ë„ ê´œì°®ì•„ìš”.",
    "ê³ ë¯¼í•˜ì‹œëŠ” ë§ˆìŒì´ ëŠê»´ì ¸ìš”. ì–´ë–¤ ì„ íƒì„ í•´ì•¼ í• ì§€ ë§‰ë§‰í•˜ì‹œì£ . í•˜ì§€ë§Œ ì–´ë–¤ ê¸¸ì„ ê°€ë“ , ê·¸ ê²½í—˜ì´ ë‹¹ì‹ ì„ ì„±ì¥ì‹œí‚¬ ê±°ì˜ˆìš”.",
    "ê¹Šì€ ê³ ë¯¼ ì¤‘ì´ì‹œêµ°ìš”. ì‰½ê²Œ ë‹µì´ ë‚˜ì˜¤ì§€ ì•ŠëŠ” ë¬¸ì œì¸ ê²ƒ ê°™ì•„ìš”. ì„œë‘ë¥´ì§€ ì•Šì•„ë„ ë¼ìš”. ì²œì²œíˆ, ë‹¹ì‹ ì˜ ë§ˆìŒì„ ë“¤ì–´ë³´ë©´ì„œ ê²°ì •í•´ë´ìš”."
  ],
  í–‰ë³µ: [
    "ê¸°ë¶„ ì¢‹ì€ ì¼ì´ ìˆìœ¼ì…¨ë‚˜ë´ìš”! ê·¸ í–‰ë³µí•œ ë§ˆìŒ ì˜¤ë˜ ê°€ê¸¸ ë°”ë¼ìš”. ì´ëŸ° ìˆœê°„ë“¤ì´ ëª¨ì—¬ì„œ ì¢‹ì€ ê¸°ì–µì´ ë˜ì£ . í•¨ê»˜ ê¸°ë»í•´ìš”!",
    "í–‰ë³µí•œ ë§ˆìŒì´ ëŠê»´ì ¸ìš”. ì¢‹ì€ ì¼ì´ ìˆìœ¼ì…¨êµ°ìš”! ê·¸ ê¸°ì¨ì„ ë‚˜ëˆ ì£¼ì…”ì„œ ê³ ë§ˆì›Œìš”. ì´ëŸ° ìˆœê°„ë“¤ì„ ì†Œì¤‘íˆ ê°„ì§í•˜ì„¸ìš”.",
    "ì™€, ì •ë§ ê¸°ì˜ì…¨ë‚˜ë´ìš”! ê·¸ í–‰ë³µí•œ ì—ë„ˆì§€ê°€ ì—¬ê¸°ê¹Œì§€ ì „í•´ì§€ëŠ” ê²ƒ ê°™ì•„ìš”. ì´ëŸ° ë‚ ë“¤ì´ ìì£¼ ìˆê¸°ë¥¼ ë°”ë¼ìš”!",
    "í–‰ë³µí•œ ìˆœê°„ì„ ë‚˜ëˆ ì£¼ì…”ì„œ ê°ì‚¬í•´ìš”. ì´ëŸ° ê¸°ì¨ì´ ë‹¹ì‹ ì˜ ì¼ìƒì— ìì£¼ ì°¾ì•„ì˜¤ê¸¸ ë°”ë¼ìš”. ê³„ì† ì›ƒìœ¼ë©° ì§€ë‚´ì„¸ìš”!"
  ],
  ê°ì‚¬: [
    "ê°ì‚¬í•œ ë§ˆìŒì„ í‘œí˜„í•´ì£¼ì‹œë‹ˆ ì´ìª½ë„ ë”°ëœ»í•´ì§€ë„¤ìš”. ê·¸ëŸ° ë§ˆìŒ ê°€ì§„ ë‹¹ì‹ ì´ ì •ë§ ë©‹ì ¸ìš”. ì˜¤ëŠ˜ë„ ì¢‹ì€ í•˜ë£¨ ë˜ì„¸ìš”.",
    "ê°ì‚¬ì˜ ë§ˆìŒì„ ë‚˜ëˆ ì£¼ì…”ì„œ ê³ ë§ˆì›Œìš”. ê·¸ëŸ° ë§ˆìŒì´ ë‹¹ì‹ ì„ ë” í–‰ë³µí•˜ê²Œ ë§Œë“¤ ê±°ì˜ˆìš”. ê³„ì† ê¸ì •ì ì¸ ì—ë„ˆì§€ ê°€ë“í•˜ì‹œê¸¸!",
    "ê³ ë§ˆì›Œí•˜ëŠ” ë§ˆìŒì´ ëŠê»´ì ¸ìš”. ê·¸ëŸ° íƒœë„ê°€ ì‚¶ì„ ë” í’ìš”ë¡­ê²Œ ë§Œë“¤ì–´ìš”. ë‹¹ì‹ ì˜ ê¸ì •ì ì¸ ì—ë„ˆì§€ê°€ ì£¼ë³€ì—ë„ ì „í•´ì§ˆ ê±°ì˜ˆìš”.",
    "ê°ì‚¬í•˜ëŠ” ë§ˆìŒì„ ê°€ì§„ ë‹¹ì‹ ì´ ì•„ë¦„ë‹¤ì›Œìš”. ê·¸ ë§ˆìŒ ìƒì§€ ë§ê³  ê³„ì† ê°„ì§í•˜ì„¸ìš”. í–‰ë³µí•œ ì¼ë“¤ì´ ë” ë§ì´ ì°¾ì•„ì˜¬ ê±°ì˜ˆìš”."
  ]
};

// ì¼ë°˜ ì‘ë‹µ (ê°ì • í‚¤ì›Œë“œ ì—†ì„ ë•Œ)
const generalResponses = [
  "ë§ˆìŒì„ ë‚˜ëˆ ì£¼ì…”ì„œ ê°ì‚¬í•´ìš”. ë‹¹ì‹ ì˜ ì´ì•¼ê¸°ë¥¼ ë“£ê³  ìˆì–´ìš”. í˜¼ìê°€ ì•„ë‹ˆì—ìš”. í•¨ê»˜ ìˆì„ê²Œìš”.",
  "í„¸ì–´ë†“ì•„ ì£¼ì…”ì„œ ê³ ë§ˆì›Œìš”. ê·¸ ë§ˆìŒ ì¶©ë¶„íˆ ì´í•´í•´ìš”. ì²œì²œíˆ ê´œì°®ì•„ì§ˆ ê±°ì˜ˆìš”. ê³ì— ìˆì–´ì¤„ê²Œìš”.",
  "ì´ì•¼ê¸°í•´ì£¼ì…”ì„œ ê³ ë§ˆì›Œìš”. ë‹¹ì‹ ì˜ ê°ì •ì€ ì†Œì¤‘í•´ìš”. ì–´ë–¤ ë§ˆìŒì´ë“  ëŠê»´ë„ ê´œì°®ì•„ìš”. í•¨ê»˜ ìˆì„ê²Œìš”.",
  "ë§ˆìŒ ê¹Šì€ ê³³ì˜ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ ì£¼ì…¨ë„¤ìš”. ê·¸ ìš©ê¸°ê°€ ëŒ€ë‹¨í•´ìš”. ì²œì²œíˆ, ë‹¹ì‹ ì˜ ì†ë„ëŒ€ë¡œ ê°€ë©´ ë¼ìš”.",
  "ë“¤ë ¤ì£¼ì…”ì„œ ê°ì‚¬í•´ìš”. ë‹¹ì‹ ì˜ ë§ˆìŒì„ ëŠë¼ê³  ìˆì–´ìš”. ì§€ê¸ˆ ì´ëŒ€ë¡œë„ ì¶©ë¶„íˆ ì˜í•˜ê³  ìˆì–´ìš”.",
  "ì´ë ‡ê²Œ í‘œí˜„í•´ì£¼ì‹  ê²ƒë§Œìœ¼ë¡œë„ í° ìš©ê¸°ì—ìš”. ë‹¹ì‹ ì˜ ê°ì •ì€ ëª¨ë‘ íƒ€ë‹¹í•´ìš”. ì²œì²œíˆ ë‚˜ì•„ê°€ë´ìš”.",
  "ë§ˆìŒì„ ì—´ì–´ì£¼ì…”ì„œ ê³ ë§ˆì›Œìš”. ê·¸ ì§„ì‹¬ì´ ëŠê»´ì ¸ìš”. ì–´ë–¤ ìˆœê°„ì´ë“  í•¨ê»˜ ìˆì–´ì¤„ê²Œìš”.",
  "ë‹¹ì‹ ì˜ ì´ì•¼ê¸°ì— ê·€ ê¸°ìš¸ì´ê³  ìˆì–´ìš”. í˜ë“  ì‹œê°„ë„, ì¢‹ì€ ì‹œê°„ë„ ëª¨ë‘ ì†Œì¤‘í•´ìš”. í•¨ê»˜ ê°€ìš”."
];

// ë™ë¬¸ì„œë‹µí˜• ì‘ë‹µ (30% í™•ë¥ )
const randomResponses = [
  "ë‚˜ëŠ” ì˜¤ëŠ˜ ê¸¸ì—ì„œ ê³ ì–‘ì´ë¥¼ ë´¤ì–´. ê°‘ìê¸° ìƒê°ë‚¬ë„¤.",
  "ì°½ë°–ì— ë¹„ê°€ ì˜¤ë„¤. ë”°ëœ»í•œ ì°¨ í•œ ì” ë§ˆì‹œê³  ì‹¶ì–´.",
  "ì–´ì œ ë¨¹ì€ ë¼ë©´ì´ ì§„ì§œ ë§›ìˆì—ˆì–´. ê·¸ëƒ¥ ë– ì˜¬ëì–´.",
  "ì§€ê¸ˆ ë°–ì— ë³„ì´ ì˜ˆì˜ê²Œ ë–  ìˆì„ ê²ƒ ê°™ì•„.",
  "ë‚˜ëŠ” ì§€ê¸ˆ ìŒì•… ë“£ê³  ìˆì–´. ì¢‹ì€ ë…¸ë˜ í•˜ë‚˜ ì¶”ì²œí•´ì¤„ê¹Œ?",
  "ì˜¤ëŠ˜ ì•„ì¹¨ í† ìŠ¤íŠ¸ê°€ ë„ˆë¬´ íƒ€ì„œ ì›ƒê²¼ì–´.",
  "ê°‘ìê¸° ë°”ë‹¤ ë³´ê³  ì‹¶ë‹¤. íŒŒë„ ì†Œë¦¬ ë“¤ìœ¼ë©´ ì¢‹ê² ì–´.",
  "í¸ì˜ì  ì•„ì´ìŠ¤í¬ë¦¼ì´ ìƒê°ë‚˜ë„¤. ë­ê°€ ì œì¼ ë§›ìˆì„ê¹Œ?",
  "ë‚´ì¼ ë‚ ì”¨ ì–´ë–¨ê¹Œ? ì‚°ì±…í•˜ê¸° ì¢‹ì•˜ìœ¼ë©´ ì¢‹ê² ì–´.",
  "ë°©ê¸ˆ ì°½ë¬¸ ì—´ì—ˆë”ë‹ˆ ë°”ëŒì´ ì‹œì›í•´.",
  "ì˜¤ëŠ˜ í•˜ëŠ˜ ìƒ‰ê¹” ì§„ì§œ ì˜ˆë»¤ì–´. ë´¤ì–´?",
  "ê°‘ìê¸° í”¼ì ë¨¹ê³  ì‹¶ë‹¤. ì¹˜ì¦ˆ ë“¬ë¿.",
  "ìš”ì¦˜ ìê¸° ì „ì— ì±… ì½ëŠ”ë° ì¢‹ë”ë¼.",
  "ìƒˆë²½ ê³µê¸°ê°€ ì œì¼ ì¢‹ì€ ê²ƒ ê°™ì•„.",
  "ê·¸ëƒ¥ ì•„ë¬´ ìƒê° ì—†ì´ ëˆ„ì›Œìˆê³  ì‹¶ì€ ë‚ .",
  "ì˜¤ëŠ˜ ê¸¸ì—ì„œ ê°•ì•„ì§€ê°€ ê¼¬ë¦¬ í”ë“¤ê¸¸ë˜ ê¸°ë¶„ ì¢‹ì•˜ì–´.",
  "ë”°ëœ»í•œ ë¬¼ì— ë°œ ë‹´ê·¸ê³  ìˆìœ¼ë©´ ì¢‹ì„ ê²ƒ ê°™ì•„.",
  "ì˜¤ëŠ˜ ì ì‹¬ì€ ë­ ë¨¹ì—ˆì–´? ë‚˜ëŠ” ê¹€ì¹˜ì°Œê°œ.",
  "ì§€ê¸ˆ ì¡¸ë ¤. ê·¼ë° ìê¸°ëŠ” ì•„ê¹Œì›Œ.",
  "ì´ë¶ˆ ì†ì´ ì œì¼ ë”°ëœ»í•´."
];

// í‚¤ì›Œë“œ ê¸°ë°˜ ê°ì • ê°ì§€
const detectEmotion = (text) => {
  const emotions = {
    í˜ë“¤: ['í˜ë“¤', 'ì–´ë µ', 'ë²„í‹°', 'ê´´ë¡­', 'í˜ë“¦', 'ì§€ì³', 'í•œê³„'],
    ì™¸ë¡­: ['ì™¸ë¡­', 'í˜¼ì', 'ì“¸ì“¸', 'ê³ ë…', 'ì™¸ë¡œì›€', 'ì¹œêµ¬'],
    ìŠ¬í”„: ['ìŠ¬í”„', 'ìš°ìš¸', 'ëˆˆë¬¼', 'ìš¸', 'ìŠ¬í””', 'ìƒì‹¤'],
    í™”ë‚˜: ['í™”ë‚˜', 'ì§œì¦', 'ì—´ë°›', 'ë¶„ë…¸', 'ì–µìš¸', 'ë¹¡ì³', 'ë¯¸ì›Œ'],
    ë¶ˆì•ˆ: ['ë¶ˆì•ˆ', 'ê±±ì •', 'ë‘ë µ', 'ë¬´ì„­', 'ë–¨ë¦¬', 'ì´ˆì¡°'],
    í”¼ê³¤: ['í”¼ê³¤', 'ì§€ì³', 'í˜ë¹ ', 'ì§€ì¹¨', 'ë…¹ì´ˆ', 'íƒˆì§„'],
    ê³ ë¯¼: ['ê³ ë¯¼', 'ì„ íƒ', 'ê²°ì •', 'ê°ˆë“±', 'ë§ì„¤', 'ì–´ë–»ê²Œ'],
    í–‰ë³µ: ['í–‰ë³µ', 'ì¢‹ì•„', 'ê¸°ì˜', 'ì¦ê±°', 'ì‹ ë‚˜', 'ìµœê³ ', 'ê°ë™'],
    ê°ì‚¬: ['ê°ì‚¬', 'ê³ ë§ˆ', 'ê³ ë§™']
  };

  for (const [emotion, keywords] of Object.entries(emotions)) {
    if (keywords.some(keyword => text.includes(keyword))) {
      return emotion;
    }
  }
  
  return null;
};

// AI ì‘ë‹µ ìƒì„± í•¨ìˆ˜
export const generateAIResponse = async (userPost) => {
  console.log('ğŸ¤– ë“¤ë¦¼ì´ ì‘ë‹µ ìƒì„± ì¤‘...', userPost);
  
  try {
    // ì§§ì€ ë”œë ˆì´
    await new Promise(resolve => setTimeout(resolve, 500));
    
    // 30% í™•ë¥ ë¡œ ë™ë¬¸ì„œë‹µí˜•
    const isRandom = Math.random() < 0.3;
    
    if (isRandom) {
      // ë™ë¬¸ì„œë‹µí˜• (30%)
      const message = randomResponses[Math.floor(Math.random() * randomResponses.length)];
      console.log('âœ… ë“¤ë¦¼ì´ ì‘ë‹µ (ë™ë¬¸ì„œë‹µí˜•):', message);
      return {
        success: true,
        message: message
      };
    }
    
    // ê³µê°í˜• (70%)
    // ê°ì • ê°ì§€
    const emotion = detectEmotion(userPost);
    
    let message;
    
    if (emotion && emotionResponses[emotion]) {
      // ê°ì •ë³„ ì‘ë‹µ ì¤‘ ëœë¤ ì„ íƒ
      const responses = emotionResponses[emotion];
      message = responses[Math.floor(Math.random() * responses.length)];
    } else {
      // ì¼ë°˜ ì‘ë‹µ ì¤‘ ëœë¤ ì„ íƒ
      message = generalResponses[Math.floor(Math.random() * generalResponses.length)];
    }
    
    console.log('âœ… ë“¤ë¦¼ì´ ì‘ë‹µ (ê³µê°í˜•):', message);
    
    return {
      success: true,
      message: message
    };
    
  } catch (error) {
    console.error('âŒ ì‘ë‹µ ìƒì„± ì˜¤ë¥˜:', error);
    return {
      success: true,
      message: 'ë§ˆìŒì„ ë‚˜ëˆ ì£¼ì…”ì„œ ê°ì‚¬í•´ìš”. ë‹¹ì‹ ì˜ ì´ì•¼ê¸°ë¥¼ ë“£ê³  ìˆì–´ìš”. ì–¸ì œë“  ì´ì•¼ê¸°í•´ì£¼ì„¸ìš”.'
    };
  }
};

// ëœë¤ ëŒ€ê¸° ì‹œê°„
export const getRandomDelay = () => {
  return Math.floor(Math.random() * 3000) + 2000; // 2-5ì´ˆ
};